---
import { SITE_TITLE } from "../../consts.js";
import ThemeSwitcher from "../inputs/ThemeSwitcher.astro";
import HeaderLink from "../link/HeaderLink.astro";
import { HeaderSearch } from "../../blocks/header/HeaderSearch.tsx";
import { MobileMenu } from "../../blocks/header/MobileMenu";
---

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.addEventListener("toggle-reading-mode", () => {
      document.getElementById("header")?.classList.toggle("hidden");
    });
  });
</script>

<div class="center-container">
  <header class="header" id="header">
    <a href="/" title={SITE_TITLE} class="logo">
      <div class="logo-element">TS</div>
    </a>
    <nav class="menu">
      <HeaderLink href="/blog">Blog</HeaderLink>
      <HeaderLink href="/apps">Apps</HeaderLink>
      <HeaderLink href="/web">Web</HeaderLink>
      <ThemeSwitcher />
      <HeaderSearch client:only />
    </nav>
    <nav class="mobile-menu">
      <MobileMenu client:only />
    </nav>
  </header>

  <style>
    .header {
      margin: 0;
      padding: 10px 0;
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .mobile-menu {
      display: block;
    }
    .menu {
      display: none;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
    }

    .logo {
      background-color: var(--primary);
      color: var(--focus);
      font-weight: bold;
      display: flex;
      align-items: flex-end;
      justify-content: flex-end;
      width: 40px;
      height: 35px;
      font-size: 24px;
      line-height: 0.7;
      padding-right: 1px;
      text-decoration: none;
    }
    @media (min-width: 769px) {
      .menu {
        display: flex;
      }
      .mobile-menu {
        display: none;
      }

      .header {
        padding: 20px 0;
      }
    }
  </style>
</div>
