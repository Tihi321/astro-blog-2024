<script>
  import { getTheme } from "../../utils/theme.ts";
  document.addEventListener("DOMContentLoaded", () => {
    const handleToggleClick = (event: any) => {
      const element = document.documentElement;
      element.classList.toggle("dark");

      const isDark = element.classList.contains("dark");
      event.target.textContent = isDark ? "Dark" : "Light";
      localStorage.setItem("theme", isDark ? "dark" : "light");
    };

    const theme = getTheme();
    const themeSwitcher = document.querySelector("#theme-switcher");
    if (themeSwitcher) {
      themeSwitcher.addEventListener("click", handleToggleClick);
      themeSwitcher.textContent = theme === "light" ? "Light" : "Dark";
    }
  });
</script>

<button type="button" id="theme-switcher"></button>

<style>
  button {
    margin: 0;
    padding: 0 1em;
    box-shadow: 0 2px 8px rgba(var(--black), 5%);
  }
</style>
